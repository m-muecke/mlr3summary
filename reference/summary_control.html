<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Various parameters that control aspects of summary.Learner."><title>Control for Learner summaries — summary_control • mlr3summary</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Control for Learner summaries — summary_control"><meta property="og:description" content="Various parameters that control aspects of summary.Learner."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mlr3summary</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa fa fa-file-alt"></span>
     
    Reference
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mlr3book.mlr-org.com">
    <span class="fa fa fa fa-link"></span>
     
    mlr3book
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mlr-org/mlr3summary">
    <span class="fa fa fa fa-github"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">
    <span class="fa fa fa fa-comments"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3">
    <span class="fab fa fab fa-stack-overflow"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Control for Learner summaries</h1>
      
      <div class="d-none name"><code>summary_control.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Various parameters that control aspects of <code>summary.Learner</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">summary_control</span><span class="op">(</span></span>
<span>  measures <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  complexity_measures <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sparsity"</span>, <span class="st">"interaction_strength"</span><span class="op">)</span>,</span>
<span>  importance_measures <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n_important <span class="op">=</span> <span class="fl">15L</span>,</span>
<span>  effect_measures <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pdp"</span>, <span class="st">"ale"</span><span class="op">)</span>,</span>
<span>  fairness_measures <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  protected_attribute <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hide <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  digits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fl">3L</span>, <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"digits"</span><span class="op">)</span> <span class="op">-</span> <span class="fl">3L</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>measures</dt>
<dd><p>(<a href="https://mlr3.mlr-org.com/reference/Measure.html" class="external-link">mlr3::Measure</a> | list of <a href="https://mlr3.mlr-org.com/reference/Measure.html" class="external-link">mlr3::Measure</a> | NULL)<br>
measure(s) to calculate performance on. If NULL (default), a set of
selected measures are calculated (choice depends on Learner type (classif vs. regr)).
See details below.</p></dd>


<dt>complexity_measures</dt>
<dd><p>(character)<br>
vector of complexity measures. Possible choices are "sparsity" (the number
of used features) and "interaction_strength" (see Molnar et al. (2020)).
Both are the default. See details below.</p></dd>


<dt>importance_measures</dt>
<dd><p>(character()|NULL)<br>
vector of importance measure names. Possible choices are "pfi.<code>&lt;</code>loss<code>&gt;</code>"
(<a href="https://giuseppec.github.io/iml/reference/FeatureImp.html" class="external-link">iml::FeatureImp</a>), "pdp" (<a href="https://giuseppec.github.io/iml/reference/FeatureEffects.html" class="external-link">iml::FeatureEffects</a>, see ) and
"shap" (<a href="https://bgreenwell.github.io/fastshap/reference/explain.html" class="external-link">fastshap::explain</a>). Default of NULL results in "pfi.<code>&lt;</code>loss<code>&gt;</code>" and
"pdp", where the <code>&lt;</code>loss<code>&gt;</code> depends on the Learner type (classif vs. regr).
See details below.</p></dd>


<dt>n_important</dt>
<dd><p>(numeric(1))<br>
number of important variables to be displayed. Default is 15L.</p></dd>


<dt>effect_measures</dt>
<dd><p>(character | NULL)<br>
vector of effect method names. Possible choices are "pfi" and "ale"
(see <a href="https://giuseppec.github.io/iml/reference/FeatureEffects.html" class="external-link">iml::FeatureEffects</a>). Both are the default. See details below.</p></dd>


<dt>fairness_measures</dt>
<dd><p>(<a href="https://mlr3fairness.mlr-org.com/reference/MeasureFairness.html" class="external-link">mlr3fairness::MeasureFairness</a> |
list of <a href="https://mlr3fairness.mlr-org.com/reference/MeasureFairness.html" class="external-link">mlr3fairness::MeasureFairness</a> | NULL)<br>
measure(s) to assess fairness. If NULL (default), a set of
selected measures are calculated (choice depends on Learner type (classif vs. regr)).
See details below.</p></dd>


<dt>protected_attribute</dt>
<dd><p>(character(1))<br>
name of the binary feature that is used as a protected attribute.
If no <code>protected_attribute</code> is specified (and also no <code>pta</code> feature is
available in the <code><a href="https://mlr3.mlr-org.com/reference/Task.html" class="external-link">mlr3::Task</a></code> for training the <code><a href="https://mlr3.mlr-org.com/reference/Learner.html" class="external-link">mlr3::Learner</a></code>),
no fairness metrics are computed.</p></dd>


<dt>hide</dt>
<dd><p>(character)<br>
names of paragraphs which should not be part of the summary.
Possible values are "general", "residuals", "performance", "complexity", "fairness",
"importance", "effect". If NULL, no paragraph is hided.</p></dd>


<dt>digits</dt>
<dd><p>(numeric(1))<br>
number of digits to use when printing.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a> of class <code>summary_control</code></p>


    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The following provides some details on the different choices of measures.</p>
<p><strong>Performance</strong>
The default <code>measures</code> depend on the type of task. Therefore, NULL is displayed as default and
the measures will be initialized in <code>summary.Learner</code> with the help of <code><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">mlr3::msr</a></code>.
The following provides an overview of these defaults:</p><ul><li><p>Regression: <a href="https://mlr3.mlr-org.com/reference/mlr_measures_regr.rmse.html" class="external-link">regr.rmse</a>,
<a href="https://mlr3.mlr-org.com/reference/mlr_measures_regr.rsq.html" class="external-link">regr.rsq</a>,
<a href="https://mlr3.mlr-org.com/reference/mlr_measures_regr.mae.html" class="external-link">regr.mae</a>,
<a href="https://mlr3.mlr-org.com/reference/mlr_measures_regr.medae.html" class="external-link">regr.medae</a></p></li>
<li><p>Binary classification with probabilities:
<a href="https://mlr3.mlr-org.com/reference/mlr_measures_classif.auc.html" class="external-link">classif.auc</a>,
<a href="https://mlr3.mlr-org.com/reference/mlr_measures_classif.fbeta.html" class="external-link">classif.fbeta</a>,
<a href="https://mlr3.mlr-org.com/reference/mlr_measures_classif.bbrier.html" class="external-link">classif.bbrier</a>,
<a href="https://mlr3.mlr-org.com/reference/mlr_measures_classif.mcc.html" class="external-link">classif.mcc</a></p></li>
<li><p>Binary classification with hard labels:
<a href="https://mlr3.mlr-org.com/reference/mlr_measures_classif.acc.html" class="external-link">classif.acc</a>,
<a href="https://mlr3.mlr-org.com/reference/mlr_measures_classif.bacc.html" class="external-link">classif.bacc</a>,
<a href="https://mlr3.mlr-org.com/reference/mlr_measures_classif.fbeta.html" class="external-link">classif.fbeta</a>,
<a href="https://mlr3.mlr-org.com/reference/mlr_measures_classif.mcc.html" class="external-link">classif.mcc</a></p></li>
<li><p>Multi-class classification with probabilities:
<a href="https://mlr3.mlr-org.com/reference/mlr_measures_classif.mauc_aunp.html" class="external-link">classif.mauc_aunp</a>,
<a href="https://mlr3.mlr-org.com/reference/mlr_measures_classif.mbrier.html" class="external-link">classif.mbrier</a></p></li>
</ul><p><strong>Complexity</strong>
Currently only two <code>complexity_measures</code> are available, which are
based on Molnar et al. (2020):</p><ul><li><p><code>sparsity</code>: The number of used features, that have a non-zero effect
on the prediction (evaluated by accumulated local effects (ale, Apley and Zhu
(2020)). The measure can have values between 0 and the number of features.</p></li>
<li><p><code>interaction_strength</code>: The scaled approximation error between a
main effect model (based on ale) and the prediction function. It can have
values between 0 and 1, where 0 means no interaction and 1 only interaction,
and no main effects. Interaction strength can only be measured for binary
classification and regression models.</p></li>
</ul><p><strong>Importance</strong> The <code>importance_measures</code> are based on the <code>iml</code> and
<code>fastshap</code> packages. Multiple measures are available:</p><ul><li><p>pdp: This corrensponds to importances based on the standard deviations
in partial dependence plots (Friedmann (2001)), as proposed by Greenwell et al. (2018).</p></li>
<li><p>pfi.<code>&lt;</code>loss<code>&gt;</code>: This corresponds to the permutation feature importance as
implemented in <a href="https://giuseppec.github.io/iml/reference/FeatureImp.html" class="external-link">iml::FeatureImp</a>. Different loss functions are possible and
rely on the task at hand.</p></li>
<li><p>shap: This importance corresponds to the
mean absolute Shapley values computed with <a href="https://bgreenwell.github.io/fastshap/reference/explain.html" class="external-link">fastshap::explain</a>.
Higher values display higher importance.</p></li>
</ul><p>NULL is the default, corresponding to importance calculations based on pdp and pfi.
Because the loss function for pfi relies on the task at hand, the importance measures
are initialized in <code>summary</code>."pdp" and "pfi.ce" are the defaults for
classification, "pdp" and "pfi.mse" for regression.</p>
<p><strong>Effects</strong> The <code>effect_measures</code> are based on <a href="https://giuseppec.github.io/iml/reference/FeatureEffects.html" class="external-link">iml::FeatureEffects</a>.
Currently partial dependence plots (pdp) and accumulated local effects are
available (ale). Ale has the advantage over pdp that it takes feature
correlations into account but has a less natural interpretation than pdp.
Therefore, both "pdp" and "ale" are the defaults.</p>
<p><strong>Fairness</strong>
The default <code>fairness_measures</code> depend on the type of task.
Therefore, NULL is displayed as default and
the measures will be initialized in <code>summary.Learner</code> based on
<a href="https://mlr3fairness.mlr-org.com/reference/mlr_measures_fairness.html" class="external-link">mlr3fairness::mlr_measures_fairness</a>.
There is currently a mismatch between the naming convention of
measures in <code>mlr3fairness</code> and the underlying measurements displayed.
To avoid confusion, the id of the fairness measures were adapted.
The following provides an overview of these defaults and adapted names:</p><ul><li><p>Binary classification: "fairness.dp" (demographic parity) based on "fairness.cv",
"fairness.cuae" (conditional use accuracy equality) based on "fairness.pp",
"fairness.eod" (equalized odds) based on "fairness.eod". Smaller values are better.</p></li>
<li><p>Multi-class classification: "fairness.acc", the smallest absolute
difference in accuracy between groups of the <code>protected_attribute</code>.
Smaller values are better.</p></li>
<li><p>Regression: "fairness.rmse" and "fairness.mae",
the smallest absolute difference (see <a href="https://mlr3fairness.mlr-org.com/reference/groupdiff_tau.html" class="external-link">mlr3fairness::groupdiff_absdiff</a>)
in the either the root mean-squared error (rmse) or
the mean absolute error (mae) between groups of the <code>protected_attribute</code>.
Smaller values are better.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Molnar, Christoph, Casalicchio, Giuseppe, Bischl, Bernd (2020).
“Quantifying Model Complexity via Functional Decomposition for Better Post-hoc Interpretability.”
In <em>Communications in Computer and Information Science</em>, chapter 1, 193--204.
Springer International Publishing.</p>
<p>Greenwell, M. B, Boehmke, C. B, McCarthy, J. A (2018).
“A Simple and Effective Model-Based Variable Importance Measure.”
arXiv preprint.
arXiv:1805.04755, <a href="http://arxiv.org/abs/1805.04755" class="external-link">http://arxiv.org/abs/1805.04755</a>.</p>
<p>Apley, W. D, Zhu, Jingyu (2020).
“Visualizing the Effects of Predictor Variables in Black Box Supervised Learning Models.”
<em>Journal of the Royal Statistical Society Series B: Statistical Methodology</em>, <b>82</b>(4), 1059-1086.</p>
<p>Friedman, H. J (2001).
“Greedy Function Approximation: A Gradient Boosting Machine.”
<em>The Annals of Statistics</em>, <b>29</b>(5).</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Susanne Dandl, Marc Becker, Bernd Bischl, Giuseppe Casalicchio, Ludwig Bothmann.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

